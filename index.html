<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<title>My Mind</title>
		<script src="js/promise.js"></script>
		<script src="js/promise-addons.js"></script>
		<script src="js/mm.js"></script>
		<script src="js/repo.js"></script>
		<script src="js/item.js"></script>
		<script src="js/map.js"></script>
		<script src="js/keyboard.js"></script>
		<script src="js/action.js"></script>
		<script src="js/command.js"></script>
		<script src="js/command.select.js"></script>
		<script src="js/layout.js"></script>
		<script src="js/layout.graph.js"></script>
		<script src="js/layout.tree.js"></script>
		<script src="js/layout.freemind.js"></script>
		<script src="js/shape.js"></script>
		<script src="js/shape.underline.js"></script>
		<script src="js/shape.box.js"></script>
		<script src="js/shape.ellipse.js"></script>
		<script src="js/format.js"></script>
		<script src="js/format.json.js"></script>
		<script src="js/format.freemind.js"></script>
		<script src="js/format.mma.js"></script>
		<script src="js/backend.js"></script>
		<script src="js/backend.local.js"></script>
		<script src="js/backend.file.js"></script>
		<script src="js/backend.firebase.js"></script>
		<script src="js/backend.gdrive.js"></script>
		<script src="js/notification.js"></script>
		<script src="js/ui.js"></script>
		<script src="js/ui.layout.js"></script>
		<script src="js/ui.shape.js"></script>
		<script src="js/ui.color.js"></script>
		<script src="js/ui.help.js"></script>
		<script src="js/ui.io.js"></script>
		<script src="js/ui.backend.js"></script>
		<script src="js/ui.backend.file.js"></script>
		<script src="js/ui.backend.local.js"></script>
		<script src="js/ui.backend.firebase.js"></script>
		<script src="js/ui.backend.gdrive.js"></script>
		<script src="js/app.js"></script>
		<script src="https://cdn.firebase.com/v0/firebase.js"></script>
		<link rel="stylesheet" href="css/style.css" />
	</head>
	<body>
		<ul id="port"></ul>

		<div class="ui">
			<h3>Map</h3>
			<p>
				<button data-command="New">New</button><button data-command="Load">Load</button>
			</p>
			<p>
				<button data-command="Save">Save</button><button data-command="SaveAs">Save As</button>
			</p>
			<p>
				<button data-command="Center">Center</button><button data-command="Help">Help</button>
			</p>

			<h3>Item</h3>

			<p>
				<span>Layout</span>
				<select id="layout">
					<option value="">[inherit]</option>
				</select>
			</p>
			<p>
				<span>Shape</span>
				<select id="shape">
					<option value="">[automatic]</option>
				</select>
			</p>
			<p>
				<span>Color</span>
				<span id="color">
					<a data-color="" title="Default" href="#"></a>
					<a data-color="#000" title="Black" href="#"></a>
					<a data-color="#f33" title="Red" href="#"></a>
					<a data-color="#3f3" title="Green" href="#"></a>
					<a data-color="#33f" title="Blue" href="#"></a>
					<a data-color="#ff3" title="Yellow" href="#"></a>
					<a data-color="#3ff" title="Cyan" href="#"></a>
					<a data-color="#f3f" title="Magenta" href="#"></a>
					<a data-color="#fa3" title="Orange" href="#"></a>
				</span>
			</p>
		</div>

		<button id="toggle"></button>

		<div id="io" class="ui">
			<h3></h3>
			<p>
				<span>Storage</span>
				<select id="backend"></select>
			</p>
			
			<div id="file">
				<p data-for="save">
					<span>Format</span>
					<select class="format"></select>
				</p>
				<p data-for="save load">
					<button class="go"></button><button class="cancel">Cancel</button>
				</p>
			</div>

			<div id="local">
				<p data-for="load">
					<span>Saved maps</span>
					<select class="list"></select>
				</p>
				<p data-for="save load">
					<button class="go"></button><button class="cancel">Cancel</button>
				</p>
			</div>

			<div id="firebase">
				<p data-for="save load">
					<span>Server</span>
					<input type="text" class="server" />
				</p>
				<p data-for="load">
					<span>Saved maps</span>
					<select class="list"></select>
				</p>
				<p data-for="save load">
					<button class="go"></button><button class="cancel">Cancel</button>
				</p>
			</div>

			<div id="gdrive">
				<p data-for="save load">
					<button class="go"></button><button class="cancel">Cancel</button>
				</p>
			</div>
		</div>

		<div id="help" class="ui">
			<h3>Help</h3>

			<p><span>Navigation</span></p>
			<table class="navigation"></table>

			<p><span>Manipulation</span></p>
			<table class="manipulation"></table>

			<p><span>Editing</span></p>
			<table class="editing"></table>

			<p><span>Other</span></p>
			<table class="other"></table>
		</div>

		<script>
		MM.App.init();

		var map = new MM.Map({root:"This is <s>Sparta</s> Root"});

		var root = map.getRoot();
		root.setLayout(MM.Layout.FreeMind);
		
		var r1 = root.insertChild().setText("right 1").setShape(MM.Shape.Box);
		r1.setLayout(MM.Layout.Tree.Right);
		r1.setColor("#33f");
		r1.insertChild().setText("right 1.1");
		r1.insertChild().setText("right 1.2 zejo");
		r1.insertChild().setText("right 1.3 very long").insertChild().setText("right 1.3.1");

		var l1 = root.insertChild().setText("left 1");
		l1.insertChild().setText("left 1.1");
		l1.insertChild().setText("left 1.2<br/>newline jak cyp").insertChild().setText("left 1.2.1");
		l1.insertChild().setText("left 1.3").insertChild().setText("left 1.3.1");
		l1.insertChild().setText("left 1.4");
	
		var r2 = root.insertChild().setText("right 2");
		r2.setColor("#f33");
		r2.insertChild().setText("right 2.1");
		r2.insertChild().setText("right 2.2");

		var l2 = root.insertChild().setText("left 2 veri long k?");
		l2.insertChild().setText("left 2.1");

		MM.App.setMap(map);
		</script>

<!--

TODO:
  shortterm:
    - commandy na pan
    - autoload
    - notification
    - google drive backend

  longterm:
    - razeni v localStorage/firebase listingu
    - clipboard support
    - mup format
    - circular layout
    - wysiwyg
    - firebase realtime
    - dragdrop
    - yes/no
    - values, functions
    - (custom) icons
    - firebase auth
    - icon font?

  bugs:
    - commandy bez map hniji
    - pevna pozice vs. zmena velikosti root itemu

  jen jako request:
	- firebase multiserver
    - l11n
    - custom styles
-->

	</body>
</html>
